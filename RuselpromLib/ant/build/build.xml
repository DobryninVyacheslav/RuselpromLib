<?xml version="1.0"?>
<project name="RuselpromLib" default="jar" basedir=".">

	<target name="delete">
		<delete dir="bin" />
		<delete dir="src" />
		<delete dir="lib" />
		<delete dir="test-output" />
	</target>

	<path id="classpath">
		<pathelement location="lib/otk.jar" />
		<pathelement location="bin"/>
	</path>

	<target name="create" depends="delete">
		<mkdir dir="bin" />
		<mkdir dir="src" />
		<mkdir dir="lib" />
		<mkdir dir="test-output" />
	</target>

	<target name="copy" depends="create">
		<copydir src="D:\Common_Pro\Dobrynin\git\java-api-creo\RuselpromLib\src" dest="D:\Common_Pro\Dobrynin\git\java-api-creo\RuselpromLib\ant\build\src">
		</copydir>
		<copy todir="D:\Common_Pro\Dobrynin\git\java-api-creo\RuselpromLib\ant\build\lib" overwrite="true">
			<fileset dir="C:\Program Files\PTC\Creo 5.0.2.0\Common Files\text\java" includes="otk.jar">
			</fileset>
		</copy>
	</target>

	<target name="compile" depends="copy">
		<javac 	classpathref="classpath"
				includeantruntime="true"
				srcdir="D:\Common_Pro\Dobrynin\git\java-api-creo\RuselpromLib\ant\build\src"
				destdir="D:\Common_Pro\Dobrynin\git\java-api-creo\RuselpromLib\ant\build\bin"
				includes="**/*.java"
				/>
	</target>

	<target name="jar" depends="compile">
		<jar destfile="RuselpromLib.jar" compress="false">
			<fileset dir="D:\Common_Pro\Dobrynin\git\java-api-creo\RuselpromLib\ant\build\bin">
				<include name="**/*.class" />
			</fileset>
		<!--	<zipgroupfileset dir=".\lib" includes="**/*.jar" />
			<manifest>
				<attribute name="Main-Class" value="ru.RuselpromLibButton" />
				<attribute name="Class-Path" value="lib\otk.jar" />
			</manifest>-->
		</jar>
	</target>

</project>